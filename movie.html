<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detail</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" data-auto-replace-svg="nest"></script>
   <!-- Axios -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js" integrity="sha512-bZS47S7sPOxkjU/4Bt0zrhEtWx0y0CRkhEp8IckzK+ltifIIE9EMIMTuT/mEzoIMewUINruDBIR/jJnbguonqQ==" crossorigin="anonymous"></script>
</head>
<body>
  <!-- navigation--------->
  <nav>
    <!-- logo--------->
    <a href="#" class="logo">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRuSpdSemYHEIR7zVmm_k7eVH9NUC_u-LNCEw&usqp=CAU">
    </a>
    <!--menu---------->
    <ul class="menu">
      <li><a href="index.html">Home</a></li>
      <li><a href="#">Movies</a></li>
      <li><a href="#">TV Shows</a></li>
      <li><a href="#">Hollywood</a></li>
      <li><a href="#">Horror</a></li>
    </ul>
    <!--search-------->
    <div class="search" id="searchForm">
      <input type="text" placeholder="Find Movies">
      <!--search icon-->
      <i class="fas fa-search"></i>
    </div>
  </nav>
<!--main-------->
<section id="main">
  <div  class="detail-container" >
  <div class="movie-detail">
    <h2 class="title" id="title"></h2>
    <span id="release_date"></span>
    <br>
    <span>Length: </span><span id="length"></span><span>min</span>
    <p class="overview" id="overview"></p>
    <span id="category"></span>
    <div>
      <a href="seatbooking.html">Get tickets</a>
    </div>
  </div>
  <div id="trailer">
    <iframe id="trailerMovie"  width="560" height="315"   frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </div>
</div>
<!--------------------------------->
<!-- <p><code>wrapAround: true</code></p> -->

<!-- Flickity HTML init -->
<!-- <div class="gallery js-flickity"
  data-flickity-options='{ "wrapAround": true }'>
  <div class="gallery-cell"></div>
  <div class="gallery-cell"></div>
  <div class="gallery-cell"></div>
  <div class="gallery-cell"></div>
  <div class="gallery-cell"></div>
</div> -->
  <!--------------------------------->
  </div>
</section>
<script src="main.js"></script>

<script>
  //Movie detail
  let detailMovieLocal = JSON.parse(localStorage.getItem("detailMovie"));
  let movieId = detailMovieLocal.id;
  fetch(`https://api.themoviedb.org/3/movie/${movieId}/videos?api_key=${apikey}`).then(response => {
    response.json().then(trailerMovie => {
      let trailerYoutubeURL = trailerMovie.results[0].key;
      const trailerYoutube = `https://www.youtube.com/embed/${trailerYoutubeURL}`;
      document.getElementById("trailerMovie").setAttribute("src",trailerYoutube);
    })
  })
  console.log(trailer); 
  document.getElementById("title").innerHTML = detailMovieLocal.title;
  document.getElementById("overview").innerHTML = detailMovieLocal.overview;
  document.getElementById("release_date").innerHTML = detailMovieLocal.release_date;
  document.getElementById("length").innerHTML = detailMovieLocal.runtime;
</script>
</body>
</html>


